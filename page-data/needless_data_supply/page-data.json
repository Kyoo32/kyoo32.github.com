{"componentChunkName":"component---src-templates-blog-post-js","path":"/needless_data_supply/","result":{"data":{"site":{"siteMetadata":{"title":"KyooBlog"}},"markdownRemark":{"id":"9690ed50-98d5-5bc3-b55c-3f1f20a46868","excerpt":"EarthHour와 생활 속 에너지 절약 지난 토요일 EarthHour에 참여했다. EarthHour는 매년 3월 마지막 토요일, 현지시간 저녁…","html":"<h4>EarthHour와 생활 속 에너지 절약</h4>\n<p>지난 토요일 EarthHour에 참여했다. EarthHour는 매년 3월 마지막 토요일, 현지시간 저녁 8시 반부터 한 시간 동안 불을 끄는 에너지 절약 행사이다. 전등을 모두 끄고 커튼을 모두 열어놓았다. 집안은 생각보다 어두웠고 창밖은 생각보다 밝았다. 처음엔 불빛 없이 할 수 있는 게 없을 거라고 생각했다. 그러다 미리 충전된 핸드폰으로 오디오 클립을 듣기 시작했고 20분이 금방 갔다. 오디오 클립까지 다 들은 후엔 창밖을 구경했다. 다행히 날씨가 좋아서 달과 별이 잘 보였는데, 오랜만에 밤하늘 사진을 많이 찍었다. </p>\n<p><img src=\"https://user-images.githubusercontent.com/7741862/77864224-60865800-7262-11ea-8bc4-504b74305a9e.jpg\" alt=\"IMG_1257\"></p>\n<p>이렇게 개인이 한 시간 동안 불을 끄는 일은 퍼포먼스일 뿐이고, 지구의 생태용량에 큰 도움을 주지 못할 것이다. 전 지구적인 그리고 국가차원의 정책과 대책이 필요하다. 그러나 개인은 정부에게 모든 일을 맡기고, 자신이 에너지를 어디에 얼마큼 쓰는지도 모른 채 살아가도 되는 건 아니다. 개인의 합은 정부의 영역보다 크고 생각이 박인 개인에게 주도적이고 지속적인 힘이 있기 때문이다. 자구의 많은 사람이 사용하지 않는 코드를 뽑고 대중교통이나 자전거를 이용하는 등, 생활 속 에너지절약을 실천한다면 꾸준히 생태용량을 아낄 수 있다. </p>\n<h4>공급자 관점의 자원절약</h4>\n<p>EarthHour 전에 행사 스트리밍 방송을 했는데, 행사의 설명 중 이런 말이 있었다. ‘손가락 하나로 방 불을 끈다면, 이 행사에 참여할 수 있습니다.’ 우리가 평소에 손가락 하나로 참여할 수 있는 에너지 절약은 바로 핸드폰에 있다. 개인 소비자를 생각하기 전에 먼저 공급자 관점에서 실천할 수 있는 에너지 절약을 살펴보자. 지난 3월 페북 메신저 앱의 용량이 4분의 1로 줄었다는 기사가 있었다. <a href=\"%5Bhttp://www.bloter.net/archives/373207%5D(http://www.bloter.net/archives/373207)\">(기사보기)</a> </p>\n<blockquote>\n<p>새 iOS용 페이스북 메신저 앱 용량은 기존 130MB에서 30MB 수준으로 축소됐다. 4분의 1도 안 되는 수준으로 가벼워졌다. 소스코드 기준을 보면 페이스북 메신저의 감량은 보다 드라마틱하다. 기존 버전 코드는 170만 줄이었는데, 새 버전의 경우 36만 줄로도 앱이 완성됐다. 무려 84% 감소한 수치다.</p>\n</blockquote>\n<p>일단 기존에 앱 용량이 130MB 될 때까지 방치(?)한 것은 문제이다. 기능이 많다고 용량까지 커야한다는 법은 없기 때문이다. 앱의 용량이 크면 사용자가 앱을 설치할 때부터 큰 네트워크 데이터를 사용하고, 다운로드 이후에도 사용자의 핸드폰 저장공간을 차지한다. 용량이 큰 앱은 리팩토링이 안 되었을 확률도 높기 때문에 앱을 사용할 때도 버벅거리고 갑자기 꺼질 확률이 높아진다. 그러나 기능이 큰 프레임워크가 5~10MB 정도 된다. 기존 페이스북 메신저가 여러 프레임워크를 사용했을 경우 페북메신저 입장에선 억울할 수 있다. </p>\n<blockquote>\n<p>해법은 소스코드에서 중복되는 부분을 가차 없이 덜어내는 것이었다. 결제, 마켓플레이스 등 다른 부서 직원들도 메신저 개편에 맞춰 소프트웨어를 업데이트하는 ‘콤비 플레이’ 요구됐다… 메신저 기능이 늘어나면서 페이스북 엔지니어들은 서버와 직접 커뮤니케이션하는 전용 마이크로 서비스들을 투입했다. 이들 마이크로 서비스는 캐시 관리 같은 복잡한 데이터 랭글링(Data Wrangling: 지저분한 상태의 데이터를 분석과 접근을 위해 통합하는 과정) 작업 등을 수행할 필요가 있다. 이 과정에서 페이스북은 광범위하게 사용되는 SQL 라이트로 이 같은 기능의 많은 부분을 대체할 수 있음을 알게 됐다. </p>\n</blockquote>\n<p>한마디로 말하면 정석대로 구현하고 리펙토링 한 것이다. 용량을 줄이는 법은 대단한 기술이 아니라 평소에 효율적으로 구현하려고 노력하고 상호리뷰를 통해 코드중복을 줄이는 것이다. 개발을 조금이라도 아는 사람이라면 당연한 말이지만, 당연하게 실천하기는 쉽지 않다. 협업이 잘 안 되고 든든한 리더가 없으면 혼자서 실천하기 어렵기 때문이다. 그런 의미에서 글로벌 서비스인 페이스북 메신저의 용량 감소는 대단한 일이다. 용량 감소로 저사양 기기를 쓰는 사용자는 좋아진 성능을 체감할 수 있고, 고사양 기기의 사용자도 일관된 좋은 성능을 경험할 수 있다. </p>\n<p>공급자인 페이스북도 얻는 이득이 있다. 용량을 줄이는 일은 메신저 사용시간과 더 많은 사용자도 얻을 수도 있지만, 자원을 효율적 사용하게 한다. 첫째는 컴퓨팅 자원이고 두번째는 인적 자원이다. 기능을 목적에 따라 잘 분리하고 적절한 서버에 분배하면, 해당 서버가 필요할 때 부족한 일이 적어지고 불필요한 서버 비용을 아낄 수 있다. 클라이언트는 그래픽 자원과 계산 자원을 낭비없이 쓸 수 있다. 가장 중요한 절약은 인적자원의 시간을 아낀다는 것이다. 과거에 만들어진 얽히고설킨 코드를 보는 시간을 줄이고, 더 간단하고 효율적인 코드를 만드는 시간은 늘어난다. </p>","frontmatter":{"title":"일회용 데이터 줄이기; 공급자의 자원절약","date":"March 30, 2020","description":"지난 토요일 EarthHour에 참여했다. 개인 소비자를 생각하기 전에 먼저 공급자 관점에서 실천할 수 있는 에너지 절약을 살펴보자. 용량을 줄이는 법은 대단한 기술이 아니라 평소에 효율적으로 구현하려고 노력하고 상호리뷰를 통해 코드중복을 줄이는 것이다. "}}},"pageContext":{"slug":"/needless_data_supply/","previous":{"fields":{"slug":"/heartAtAnimalCrossing/"},"frontmatter":{"title":"동물의숲 하는마음"}},"next":{"fields":{"slug":"/spring/"},"frontmatter":{"title":"새로움의 계절, 봄"}}}}}